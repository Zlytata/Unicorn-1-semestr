
---

**Symbol** je primitivní datový typ, který byl zaveden v **ECMAScript 2015 (ES6)**. Jeho hlavním účelem je vytvořit **jedinečné a neměnné identifikátory**, které se používají jako **klíče vlastností objektů** (_object properties_).

### 1. Klíčové Vlastnosti

- **Jedinečnost (Uniqueness):** Každý _Symbol_ je zcela **jedinečný**. I když vytvoříte dva _Symboly_ se stejným popisem, nikdy se nebudou rovnat.
    
    ```javascript
    const id1 = Symbol('id');
    const id2 = Symbol('id');
    
    id1 === id2; // Vrací: false
    ```
    
- **Neměnnost (Immutability):** Stejně jako ostatní primitivní typy (kromě _Object_), ani _Symbol_ nelze po vytvoření změnit.
    
- **Volitelný Popis:** Při vytváření _Symbolu_ můžete předat volitelný popis (řetězec), který slouží pouze pro snadnější ladění (_debugging_).
    

### 2. Použití v Objektech

Primární funkcí _Symbolu_ je sloužit jako klíč vlastnosti objektu.

- **Zamezení Konfliktům (Non-Collision):** Vlastnosti, jejichž klíčem je _Symbol_, jsou skryté před běžnými mechanismy iterace (např. smyčka `for...in` nebo metody jako `Object.keys()`). To je klíčové pro přidání metadat nebo "interních" vlastností k objektu, aniž by došlo ke **kolizi** s jiným kódem, který by mohl náhodou použít stejný název klíče (řetězce).
    
```javascript
const UZIVATEL_ID = Symbol('uzivatelId');

let uzivatel = {
  jméno: "Petra",
  // Použití Symbolu jako klíče:
  [UZIVATEL_ID]: 12345 
};

// Klíč UZIVATEL_ID se neobjeví v Object.keys(uzivatel)
console.log(Object.keys(uzivatel)); // ['jméno']

// Pro přístup k Symbol klíči musíte znát odkaz na Symbol:
console.log(uzivatel[UZIVATEL_ID]); // 12345
```

### 3. Vestavěné Symboly (_Well-Known Symbols_)

JavaScript používá řadu speciálních, vestavěných _Symbolů_, které definují, jak se má objekt chovat v určitých situacích. Slouží k rozšíření a úpravě interního chování objektů.

Příklady vestavěných _Symbolů_:

- **`Symbol.iterator`:** Definuje, jak se má objekt chovat při iteraci (např. ve smyčce `for...of`). Pole (_Array_) jej používají k implementaci iterace.
    
- **`Symbol.toStringTag`:** Určuje výchozí popis řetězce, který se používá při volání `Object.prototype.toString()`.
    
- **`Symbol.hasInstance`:** Určuje, zda je konstruktor považován za "instance" objektu (používá se pro operátor `instanceof`).
    

### 4. Vytváření a Hledání Symbolů

#### a) Globální Registr Symbolů (_Global Symbol Registry_)

Kromě lokálního vytváření _Symbolů_ můžete použít **globální registr**, který zajišťuje, že _Symbol_ s daným klíčem je po celém systému **pouze jeden**.

- **`Symbol.for(key)`:** Hledá _Symbol_ s daným klíčem v globálním registru. Pokud neexistuje, vytvoří jej.
    
- **`Symbol.keyFor(symbol)`:** Vrací klíč (řetězec) uložený v globálním registru pro daný _Symbol_.
    
```javascript
const globalId = Symbol.for('app.id'); 
const globalId2 = Symbol.for('app.id'); 

globalId === globalId2; // Vrací: true (pochází z registru)
Symbol.keyFor(globalId); // Vrací: "app.id"
```