Just-In-Time (JIT) kompilace je hybridní technika, která kombinuje rychlost kompilovaného kódu s flexibilitou interpretovaného kódu. Místo překladu celého programu před spuštěním (jako u klasické kompilace) nebo překladu řádek po řádku během spouštění (jako u interpretace) překládá JIT kompilátor kód na strojový jazyk až **těsně předtím, než je potřeba ho vykonat**, tedy "právě včas".

---

## Jak JIT kompilace funguje?

Proces obvykle probíhá v běhovém prostředí, jako je Java Virtual Machine (JVM) nebo Common Language Runtime (.NET).

1.  **Počáteční kompilace do mezikódu:** Zdrojový kód (např. v Javě, C#) se nejprve přeloží do přenositelného **mezikódu** (bytecode v Javě, CIL v .NET). Tento kód ještě není přímo spustitelný procesorem.
2.  **Spuštění a interpretace:** Když se aplikace spustí, běhové prostředí začne tento mezikód zpočátku interpretovat.
3.  **Profilování a analýza:** Souběžně běží speciální komponenta zvaná **profiler**, která monitoruje, které části kódu (metody, smyčky) se volají nejčastěji. Tyto často používané části se označují jako "horká místa" (hotspots).
4.  **Kompilace za běhu:** Jakmile je identifikováno "horké místo", JIT kompilátor vezme příslušný mezikód a přeloží ho do **nativního strojového kódu**, který je optimalizovaný pro konkrétní procesor a operační systém, na kterém aplikace právě běží.
5.  **Nahrazení a zrychlení:** Původní volání interpretovaného mezikódu se nahradí voláním nově zkompilovaného, vysoce optimalizovaného nativního kódu. Všechna další volání této části programu jsou pak výrazně rychlejší.



Analogií může být příprava na zkoušku. Místo toho, abyste se dopředu naučili nazpaměť odpovědi na všechny možné otázky (klasická kompilace), nebo hledali každou odpověď v knize až ve chvíli, kdy vám ji položí (interpretace), s JIT si nejprve projdete materiály a během zkoušky si pro nejčastěji se opakující okruhy otázek připravíte dokonalé, optimalizované odpovědi na tahák (JIT kompilace "horkých míst").

---

## Výhody a nevýhody

#### ✅ Výhody
* **Vysoký výkon:** Po "zahřátí" aplikace, kdy jsou klíčové části zkompilovány, se výkon blíží nebo dokonce překonává tradičně kompilované jazyky.
* **Optimalizace za běhu:** JIT kompilátor má informace o tom, jak se aplikace skutečně používá, a může provádět optimalizace, které statický kompilátor nemůže (např. lépe optimalizovat větvení kódu, které se používá častěji).
* **Přenositelnost:** Díky mezikódu lze stejný program spustit na jakékoliv platformě, která má odpovídající běhové prostředí s JIT kompilátorem.

#### ❌ Nevýhody
* **Pomalý start:** Aplikace může startovat pomaleji, protože běhové prostředí musí nejprve provádět analýzu a kompilaci. Toto je známé jako "warm-up" fáze.
* **Vyšší spotřeba paměti:** Běhové prostředí, profiler a JIT kompilátor spotřebovávají dodatečnou operační paměť.
* **Zátěž procesoru při startu:** Samotný proces JIT kompilace spotřebovává výkon procesoru, což může dočasně zpomalit aplikaci v úvodních fázích jejího běhu.

---

## Kde se JIT kompilace používá?

JIT je klíčovou technologií mnoha moderních programovacích platforem:
* **Java (JVM):** Všechny jazyky běžící na Java Virtual Machine, jako jsou Java, Kotlin, Scala a další.
* **.NET (CLR):** Jazyky platformy .NET, především C#, F# a Visual Basic .NET.
* **JavaScript:** Moderní JavaScriptové enginy ve webových prohlížečích (např. V8 v Chrome, SpiderMonkey ve Firefoxu) používají JIT k dramatickému zrychlení vykonávání skriptů.
* **Python:** Některé implementace Pythonu, jako je PyPy, používají JIT kompilátor k dosažení vyššího výkonu než standardní interpret CPython.